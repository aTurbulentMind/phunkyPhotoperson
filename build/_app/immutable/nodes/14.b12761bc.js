import{s as je,i as De,n as Pe,r as Be,o as ze,f as Ae}from"../chunks/scheduler.4ce4920c.js";import{S as Re,i as Fe,g as u,s as B,h as p,A as ie,c as A,j as I,f as m,E as v,k as a,a as ue,z as s,G as ve,C as U,H as Ue,I as Ge,m as G,n as M,F as Me,D as He,o as Ve}from"../chunks/index.39bfe945.js";import{e as be,u as Je,d as Ke}from"../chunks/each.381c87d0.js";import{s as de}from"../chunks/supabaseClient.613e8022.js";function Se(r,t,e){const n=r.slice();return n[29]=t[e],n[31]=e,n}function Oe(r,t,e){const n=r.slice();return n[32]=t[e],n}function Qe(r){let t,e,n,l="-- select a post --",_,o,g,b,h,Q,w,d,N,K,z,x,ae,O,C,f,T,R,$,ee,F,H,te,le,V,J,se,y,L,k,j,W,D,X,pe,re,Z,fe,oe,ge="Submit",S,E,ce,_e=be(r[3]),q=[];for(let c=0;c<_e.length;c+=1)q[c]=qe(Oe(r,_e,c));function me(c,i){return c[0].length>0?Ye:Xe}let he=me(r),Y=he(r);return S=Ge(r[10][0]),{c(){t=u("form"),e=u("select"),n=u("option"),n.textContent=l;for(let c=0;c<q.length;c+=1)q[c].c();_=B(),o=u("br"),g=B(),Y.c(),b=B(),h=u("label"),Q=G(`Type of text:\r
			`),w=u("label"),d=u("input"),N=G(" Blog"),K=B(),z=u("label"),x=u("input"),ae=G(" Gallery"),O=B(),C=u("label"),f=G(`Date Made:\r
			`),T=u("input"),R=B(),$=u("label"),ee=G(`Text Name:\r
			`),F=u("input"),H=B(),te=u("label"),le=G(`Author:\r
			`),V=u("input"),J=B(),se=u("label"),y=G(`Categories:\r
			`),L=u("input"),k=B(),j=u("label"),W=G(`Status:\r
			`),D=u("input"),X=B(),pe=u("label"),re=G(`Text:\r
			`),Z=u("input"),fe=B(),oe=u("button"),oe.textContent=ge,this.h()},l(c){t=p(c,"FORM",{class:!0});var i=I(t);e=p(i,"SELECT",{});var P=I(e);n=p(P,"OPTION",{"data-svelte-h":!0}),ie(n)!=="svelte-1vp8geh"&&(n.textContent=l);for(let Ie=0;Ie<q.length;Ie+=1)q[Ie].l(P);P.forEach(m),_=A(i),o=p(i,"BR",{}),g=A(i),Y.l(i),b=A(i),h=p(i,"LABEL",{class:!0});var ne=I(h);Q=M(ne,`Type of text:\r
			`),w=p(ne,"LABEL",{class:!0});var ye=I(w);d=p(ye,"INPUT",{type:!0}),N=M(ye," Blog"),ye.forEach(m),K=A(ne),z=p(ne,"LABEL",{class:!0});var Ee=I(z);x=p(Ee,"INPUT",{type:!0}),ae=M(Ee," Gallery"),Ee.forEach(m),ne.forEach(m),O=A(i),C=p(i,"LABEL",{class:!0});var Te=I(C);f=M(Te,`Date Made:\r
			`),T=p(Te,"INPUT",{type:!0,class:!0}),Te.forEach(m),R=A(i),$=p(i,"LABEL",{class:!0});var Le=I($);ee=M(Le,`Text Name:\r
			`),F=p(Le,"INPUT",{type:!0,placeholder:!0,class:!0}),Le.forEach(m),H=A(i),te=p(i,"LABEL",{class:!0});var Ce=I(te);le=M(Ce,`Author:\r
			`),V=p(Ce,"INPUT",{type:!0,placeholder:!0,class:!0}),Ce.forEach(m),J=A(i),se=p(i,"LABEL",{class:!0});var Ne=I(se);y=M(Ne,`Categories:\r
			`),L=p(Ne,"INPUT",{type:!0,placeholder:!0,class:!0}),Ne.forEach(m),k=A(i),j=p(i,"LABEL",{class:!0});var ke=I(j);W=M(ke,`Status:\r
			`),D=p(ke,"INPUT",{type:!0,placeholder:!0,class:!0}),ke.forEach(m),X=A(i),pe=p(i,"LABEL",{class:!0});var xe=I(pe);re=M(xe,`Text:\r
			`),Z=p(xe,"INPUT",{type:!0,placeholder:!0,class:!0}),xe.forEach(m),fe=A(i),oe=p(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ie(oe)!=="svelte-1ou7dtz"&&(oe.textContent=ge),i.forEach(m),this.h()},h(){n.__value="",v(n,n.__value),r[1].id===void 0&&De(()=>r[19].call(e)),a(d,"type","radio"),d.__value="1",v(d,d.__value),a(w,"class","svelte-1p2h0p4"),a(x,"type","radio"),x.__value="2",v(x,x.__value),a(z,"class","svelte-1p2h0p4"),a(h,"class","svelte-1p2h0p4"),a(T,"type","date"),T.required=!0,a(T,"class","svelte-1p2h0p4"),a(C,"class","svelte-1p2h0p4"),a(F,"type","text"),a(F,"placeholder","Name of text"),F.required=!0,a(F,"class","svelte-1p2h0p4"),a($,"class","svelte-1p2h0p4"),a(V,"type","text"),a(V,"placeholder","Name of author"),V.required=!0,a(V,"class","svelte-1p2h0p4"),a(te,"class","svelte-1p2h0p4"),a(L,"type","text"),a(L,"placeholder","Categories"),L.required=!0,a(L,"class","svelte-1p2h0p4"),a(se,"class","svelte-1p2h0p4"),a(D,"type","text"),a(D,"placeholder","Status"),D.required=!0,a(D,"class","svelte-1p2h0p4"),a(j,"class","svelte-1p2h0p4"),a(Z,"type","text"),a(Z,"placeholder","Text guts"),Z.required=!0,a(Z,"class","svelte-1p2h0p4"),a(pe,"class","svelte-1p2h0p4"),a(oe,"type","submit"),a(oe,"class","svelte-1p2h0p4"),a(t,"class","svelte-1p2h0p4"),S.p(d,x)},m(c,i){ue(c,t,i),s(t,e),s(e,n);for(let P=0;P<q.length;P+=1)q[P]&&q[P].m(e,null);ve(e,r[1].id,!0),s(t,_),s(t,o),s(t,g),Y.m(t,null),s(t,b),s(t,h),s(h,Q),s(h,w),s(w,d),d.checked=d.__value===r[1].type_of_text,s(w,N),s(h,K),s(h,z),s(z,x),x.checked=x.__value===r[1].type_of_text,s(z,ae),s(t,O),s(t,C),s(C,f),s(C,T),v(T,r[1].date_made),s(t,R),s(t,$),s($,ee),s($,F),v(F,r[1].text_name),s(t,H),s(t,te),s(te,le),s(te,V),v(V,r[1].author),s(t,J),s(t,se),s(se,y),s(se,L),v(L,r[1].categories),s(t,k),s(t,j),s(j,W),s(j,D),v(D,r[1].status),s(t,X),s(t,pe),s(pe,re),s(pe,Z),v(Z,r[1].text_guts),s(t,fe),s(t,oe),E||(ce=[U(e,"change",r[19]),U(e,"change",r[5]),U(d,"change",r[21]),U(x,"change",r[22]),U(T,"input",r[23]),U(F,"input",r[24]),U(V,"input",r[25]),U(L,"input",r[26]),U(D,"input",r[27]),U(Z,"input",r[28]),U(t,"submit",Me(r[4]))],E=!0)},p(c,i){if(i[0]&8){_e=be(c[3]);let P;for(P=0;P<_e.length;P+=1){const ne=Oe(c,_e,P);q[P]?q[P].p(ne,i):(q[P]=qe(ne),q[P].c(),q[P].m(e,null))}for(;P<q.length;P+=1)q[P].d(1);q.length=_e.length}i[0]&10&&ve(e,c[1].id),he===(he=me(c))&&Y?Y.p(c,i):(Y.d(1),Y=he(c),Y&&(Y.c(),Y.m(t,b))),i[0]&10&&(d.checked=d.__value===c[1].type_of_text),i[0]&10&&(x.checked=x.__value===c[1].type_of_text),i[0]&10&&v(T,c[1].date_made),i[0]&10&&F.value!==c[1].text_name&&v(F,c[1].text_name),i[0]&10&&V.value!==c[1].author&&v(V,c[1].author),i[0]&10&&L.value!==c[1].categories&&v(L,c[1].categories),i[0]&10&&D.value!==c[1].status&&v(D,c[1].status),i[0]&10&&Z.value!==c[1].text_guts&&v(Z,c[1].text_guts)},d(c){c&&m(t),He(q,c),Y.d(),S.r(),E=!1,Be(ce)}}}function We(r){let t,e,n,l,_,o,g,b,h,Q,w,d,N,K,z,x,ae,O,C,f,T,R,$,ee,F,H,te,le,V,J,se,y,L,k,j,W,D,X,pe,re,Z="Submit",fe,oe,ge;return fe=Ge(r[10][0]),{c(){t=u("form"),e=u("label"),n=G(`Type of text:\r
			`),l=u("label"),_=u("input"),o=G(" Blog"),g=B(),b=u("label"),h=u("input"),Q=G(" Gallery"),w=B(),d=u("label"),N=G(`Images:\r
			`),K=u("input"),z=B(),x=u("label"),ae=G(`Date Made:\r
			`),O=u("input"),C=B(),f=u("label"),T=G(`Text Name:\r
			`),R=u("input"),$=B(),ee=u("label"),F=G(`Author:\r
			`),H=u("input"),te=B(),le=u("label"),V=G(`Categories:\r
			`),J=u("input"),se=B(),y=u("label"),L=G(`Status:\r
			`),k=u("input"),j=B(),W=u("label"),D=G(`Text:\r
			`),X=u("input"),pe=B(),re=u("button"),re.textContent=Z,this.h()},l(S){t=p(S,"FORM",{class:!0});var E=I(t);e=p(E,"LABEL",{class:!0});var ce=I(e);n=M(ce,`Type of text:\r
			`),l=p(ce,"LABEL",{class:!0});var _e=I(l);_=p(_e,"INPUT",{type:!0}),o=M(_e," Blog"),_e.forEach(m),g=A(ce),b=p(ce,"LABEL",{class:!0});var q=I(b);h=p(q,"INPUT",{type:!0}),Q=M(q," Gallery"),q.forEach(m),ce.forEach(m),w=A(E),d=p(E,"LABEL",{class:!0});var me=I(d);N=M(me,`Images:\r
			`),K=p(me,"INPUT",{type:!0,id:!0}),me.forEach(m),z=A(E),x=p(E,"LABEL",{class:!0});var he=I(x);ae=M(he,`Date Made:\r
			`),O=p(he,"INPUT",{type:!0,class:!0}),he.forEach(m),C=A(E),f=p(E,"LABEL",{class:!0});var Y=I(f);T=M(Y,`Text Name:\r
			`),R=p(Y,"INPUT",{type:!0,placeholder:!0,class:!0}),Y.forEach(m),$=A(E),ee=p(E,"LABEL",{class:!0});var c=I(ee);F=M(c,`Author:\r
			`),H=p(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(m),te=A(E),le=p(E,"LABEL",{class:!0});var i=I(le);V=M(i,`Categories:\r
			`),J=p(i,"INPUT",{type:!0,placeholder:!0,class:!0}),i.forEach(m),se=A(E),y=p(E,"LABEL",{class:!0});var P=I(y);L=M(P,`Status:\r
			`),k=p(P,"INPUT",{type:!0,placeholder:!0,class:!0}),P.forEach(m),j=A(E),W=p(E,"LABEL",{class:!0});var ne=I(W);D=M(ne,`Text:\r
			`),X=p(ne,"INPUT",{type:!0,placeholder:!0,class:!0}),ne.forEach(m),pe=A(E),re=p(E,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ie(re)!=="svelte-1ou7dtz"&&(re.textContent=Z),E.forEach(m),this.h()},h(){a(_,"type","radio"),_.__value="1",v(_,_.__value),a(l,"class","svelte-1p2h0p4"),a(h,"type","radio"),h.__value="2",v(h,h.__value),a(b,"class","svelte-1p2h0p4"),a(e,"class","svelte-1p2h0p4"),a(K,"type","file"),a(K,"id","image-upload"),K.multiple=!0,a(d,"class","svelte-1p2h0p4"),a(O,"type","date"),O.required=!0,a(O,"class","svelte-1p2h0p4"),a(x,"class","svelte-1p2h0p4"),a(R,"type","text"),a(R,"placeholder","Name of text"),R.required=!0,a(R,"class","svelte-1p2h0p4"),a(f,"class","svelte-1p2h0p4"),a(H,"type","text"),a(H,"placeholder","Name of author"),H.required=!0,a(H,"class","svelte-1p2h0p4"),a(ee,"class","svelte-1p2h0p4"),a(J,"type","text"),a(J,"placeholder","Categories"),J.required=!0,a(J,"class","svelte-1p2h0p4"),a(le,"class","svelte-1p2h0p4"),a(k,"type","text"),a(k,"placeholder","Status"),k.required=!0,a(k,"class","svelte-1p2h0p4"),a(y,"class","svelte-1p2h0p4"),a(X,"type","text"),a(X,"placeholder","Text guts"),X.required=!0,a(X,"class","svelte-1p2h0p4"),a(W,"class","svelte-1p2h0p4"),a(re,"type","submit"),a(re,"class","svelte-1p2h0p4"),a(t,"class","svelte-1p2h0p4"),fe.p(_,h)},m(S,E){ue(S,t,E),s(t,e),s(e,n),s(e,l),s(l,_),_.checked=_.__value===r[1].type_of_text,s(l,o),s(e,g),s(e,b),s(b,h),h.checked=h.__value===r[1].type_of_text,s(b,Q),s(t,w),s(t,d),s(d,N),s(d,K),s(t,z),s(t,x),s(x,ae),s(x,O),v(O,r[1].date_made),s(t,C),s(t,f),s(f,T),s(f,R),v(R,r[1].text_name),s(t,$),s(t,ee),s(ee,F),s(ee,H),v(H,r[1].author),s(t,te),s(t,le),s(le,V),s(le,J),v(J,r[1].categories),s(t,se),s(t,y),s(y,L),s(y,k),v(k,r[1].status),s(t,j),s(t,W),s(W,D),s(W,X),v(X,r[1].text_guts),s(t,pe),s(t,re),oe||(ge=[U(_,"change",r[9]),U(h,"change",r[11]),U(K,"change",r[12]),U(O,"input",r[13]),U(R,"input",r[14]),U(H,"input",r[15]),U(J,"input",r[16]),U(k,"input",r[17]),U(X,"input",r[18]),U(t,"submit",Me(r[4]))],oe=!0)},p(S,E){E[0]&10&&(_.checked=_.__value===S[1].type_of_text),E[0]&10&&(h.checked=h.__value===S[1].type_of_text),E[0]&10&&v(O,S[1].date_made),E[0]&10&&R.value!==S[1].text_name&&v(R,S[1].text_name),E[0]&10&&H.value!==S[1].author&&v(H,S[1].author),E[0]&10&&J.value!==S[1].categories&&v(J,S[1].categories),E[0]&10&&k.value!==S[1].status&&v(k,S[1].status),E[0]&10&&X.value!==S[1].text_guts&&v(X,S[1].text_guts)},d(S){S&&m(t),fe.r(),oe=!1,Be(ge)}}}function qe(r){let t,e=r[32].text_name+"",n,l;return{c(){t=u("option"),n=G(e),this.h()},l(_){t=p(_,"OPTION",{});var o=I(t);n=M(o,e),o.forEach(m),this.h()},h(){t.__value=l=r[32].id,v(t,t.__value)},m(_,o){ue(_,t,o),s(t,n)},p(_,o){o[0]&8&&e!==(e=_[32].text_name+"")&&Ve(n,e),o[0]&8&&l!==(l=_[32].id)&&(t.__value=l,v(t,t.__value))},d(_){_&&m(t)}}}function Xe(r){let t,e="No images found for this post.";return{c(){t=u("p"),t.textContent=e},l(n){t=p(n,"P",{"data-svelte-h":!0}),ie(t)!=="svelte-my6qa8"&&(t.textContent=e)},m(n,l){ue(n,t,l)},p:Pe,d(n){n&&m(t)}}}function Ye(r){let t,e=[],n=new Map,l=be(r[0]);const _=o=>o[29].id;for(let o=0;o<l.length;o+=1){let g=Se(r,l,o),b=_(g);n.set(b,e[o]=we(b,g))}return{c(){t=u("div");for(let o=0;o<e.length;o+=1)e[o].c()},l(o){t=p(o,"DIV",{});var g=I(t);for(let b=0;b<e.length;b+=1)e[b].l(g);g.forEach(m)},m(o,g){ue(o,t,g);for(let b=0;b<e.length;b+=1)e[b]&&e[b].m(t,null)},p(o,g){g[0]&65&&(l=be(o[0]),e=Je(e,g,_,1,o,l,n,t,Ke,we,null,Se))},d(o){o&&m(t);for(let g=0;g<e.length;g+=1)e[g].d()}}}function we(r,t){let e,n,l,_,o,g="Delete",b,h,Q;function w(){return t[20](t[29])}return{key:r,first:null,c(){e=u("div"),n=u("img"),_=B(),o=u("button"),o.textContent=g,b=B(),this.h()},l(d){e=p(d,"DIV",{});var N=I(e);n=p(N,"IMG",{src:!0,alt:!0,class:!0}),_=A(N),o=p(N,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(o)!=="svelte-108z1f4"&&(o.textContent=g),b=A(N),N.forEach(m),this.h()},h(){Ae(n.src,l=t[29].url)||a(n,"src",l),a(n,"alt","Vaporwave"),a(n,"class","svelte-1p2h0p4"),a(o,"class","svelte-1p2h0p4"),this.first=e},m(d,N){ue(d,e,N),s(e,n),s(e,_),s(e,o),s(e,b),h||(Q=U(o,"click",w),h=!0)},p(d,N){t=d,N[0]&1&&!Ae(n.src,l=t[29].url)&&a(n,"src",l)},d(d){d&&m(e),h=!1,Q()}}}function Ze(r){let t,e="Hello friend.",n,l,_,o="-- select an operation --",g,b="New Post",h,Q="Modify Existing",w,d,N,K="Logout",z,x;function ae(f,T){if(f[2]==="new")return We;if(f[2]==="modify")return Qe}let O=ae(r),C=O&&O(r);return{c(){t=u("h1"),t.textContent=e,n=B(),l=u("select"),_=u("option"),_.textContent=o,g=u("option"),g.textContent=b,h=u("option"),h.textContent=Q,w=B(),C&&C.c(),d=B(),N=u("button"),N.textContent=K,this.h()},l(f){t=p(f,"H1",{"data-svelte-h":!0}),ie(t)!=="svelte-113tlj4"&&(t.textContent=e),n=A(f),l=p(f,"SELECT",{});var T=I(l);_=p(T,"OPTION",{"data-svelte-h":!0}),ie(_)!=="svelte-1xpsd2e"&&(_.textContent=o),g=p(T,"OPTION",{"data-svelte-h":!0}),ie(g)!=="svelte-1oaja4q"&&(g.textContent=b),h=p(T,"OPTION",{"data-svelte-h":!0}),ie(h)!=="svelte-wyksxl"&&(h.textContent=Q),T.forEach(m),w=A(f),C&&C.l(f),d=A(f),N=p(f,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(N)!=="svelte-18t49m"&&(N.textContent=K),this.h()},h(){_.__value="",v(_,_.__value),g.__value="new",v(g,g.__value),h.__value="modify",v(h,h.__value),r[2]===void 0&&De(()=>r[8].call(l)),a(N,"class","svelte-1p2h0p4")},m(f,T){ue(f,t,T),ue(f,n,T),ue(f,l,T),s(l,_),s(l,g),s(l,h),ve(l,r[2],!0),ue(f,w,T),C&&C.m(f,T),ue(f,d,T),ue(f,N,T),z||(x=[U(l,"change",r[8]),U(N,"click",r[7])],z=!0)},p(f,T){T[0]&4&&ve(l,f[2]),O===(O=ae(f))&&C?C.p(f,T):(C&&C.d(1),C=O&&O(f),C&&(C.c(),C.m(d.parentNode,d)))},i:Pe,o:Pe,d(f){f&&(m(t),m(n),m(l),m(w),m(d),m(N)),C&&C.d(f),z=!1,Be(x)}}}function $e(r,t,e){let n=[],l={id:"",date_made:"",text_name:"",author:"",categories:"",status:"",text_guts:"",type_of_text:"",images:[]},_="",o=[];ze(async()=>{const{data:y,error:L}=await de.from("Allthestuff").select("*");L?console.error("Error:",L.message):e(3,o=y)});async function g(){const y={date_made:l.date_made,text_name:l.text_name,author:l.author,categories:l.categories,status:l.status,text_guts:l.text_guts,type_of_text:l.type_of_text};if(_==="new"){const{data:L,error:k}=await de.from("Allthestuff").insert([y]);if(k?console.error("Error:",k.message):console.log("Data:",L),l.images&&l.images.length>0)for(const j of l.images){const W=`${l.text_name}/${j.name}`,{error:D}=await de.storage.from("Gallery").upload(W,j);D?console.error("Error uploading image:",D.message):console.log(`Successfully uploaded ${j.name}`)}}else if(_==="modify"){const{data:L,error:k}=await de.from("Allthestuff").update(y).match({id:l.id});k?console.error("Error:",k.message):console.log("Data:",L),location.reload()}}async function b(){const y=o.find(L=>L.id===l.id);if(y){e(1,l={...l,date_made:y.date_made,text_name:y.text_name,author:y.author,categories:y.categories,status:y.status,text_guts:y.text_guts,type_of_text:y.type_of_text.toString()});const{data:L,error:k}=await de.storage.from("Gallery").list(`${l.text_name}/`,{limit:100});if(k){console.error("Error fetching images:",k.message);return}L&&L.length>0?e(0,n=L.map((j,W)=>{const D=`https://adgdwehuxdddcwmfhudx.supabase.co/storage/v1/object/public/Gallery/${l.text_name}/${j.name}`;return{id:W,url:D}})):e(0,n=[])}}async function h(y){const L=y.split("/").pop(),{error:k}=await de.storage.from("Gallery").remove([`${l.text_name}/${L}`]);k?console.error("Error deleting image:",k.message):(e(0,n=n.filter(j=>j.url!==y)),console.log(`Successfully deleted ${L}`))}async function Q(){const{error:y}=await de.auth.signOut();y?console.error("Error logging out:",y.message):console.log("Successfully logged out")}const w=[[]];function d(){_=Ue(this),e(2,_)}function N(){l.type_of_text=this.__value,e(1,l),e(3,o)}function K(){l.type_of_text=this.__value,e(1,l),e(3,o)}function z(){l.images=this.files,e(1,l),e(3,o)}function x(){l.date_made=this.value,e(1,l),e(3,o)}function ae(){l.text_name=this.value,e(1,l),e(3,o)}function O(){l.author=this.value,e(1,l),e(3,o)}function C(){l.categories=this.value,e(1,l),e(3,o)}function f(){l.status=this.value,e(1,l),e(3,o)}function T(){l.text_guts=this.value,e(1,l),e(3,o)}function R(){l.id=Ue(this),e(1,l),e(3,o)}const $=y=>h(y.url);function ee(){l.type_of_text=this.__value,e(1,l),e(3,o)}function F(){l.type_of_text=this.__value,e(1,l),e(3,o)}function H(){l.date_made=this.value,e(1,l),e(3,o)}function te(){l.text_name=this.value,e(1,l),e(3,o)}function le(){l.author=this.value,e(1,l),e(3,o)}function V(){l.categories=this.value,e(1,l),e(3,o)}function J(){l.status=this.value,e(1,l),e(3,o)}function se(){l.text_guts=this.value,e(1,l),e(3,o)}return[n,l,_,o,g,b,h,Q,d,N,w,K,z,x,ae,O,C,f,T,R,$,ee,F,H,te,le,V,J,se]}class at extends Re{constructor(t){super(),Fe(this,t,$e,Ze,je,{},null,[-1,-1])}}export{at as component};
